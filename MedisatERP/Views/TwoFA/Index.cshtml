<div class="container-fluid position-relative d-flex p-0 h-100 authentication-bg justify-content-center align-items-center">

    <div class=" d-flex flex-column justify-content-center">

        <div class="text-center mt-2 mb-1">
            <h3>MEDISAT ERP</h3>
            <p class="text-muted">Please complete the 2FA.</p>

        </div>

        <div class="card shadow-lg border-0 w-30 w-sm-75 w-md-50">

            <div class="card-body p-4">
                @(Html.DevExtreme().TabPanel()  // Create a TabPanel widget
                    .DeferRendering(false)  // Disables deferred rendering (loads all tabs at once)
                    .Height("auto")  // Automatically adjusts the height of the TabPanel
                    .ScrollingEnabled(true) // Enable scrolling
                    .Items(tab =>  // Define tabs for the TabPanel
                    {
                        tab.Add()  // Add the first tab
                        .Title("Email")  // Set the title of the tab
                        .Icon("fas fa-envelope")  // Set the icon for the email tab (envelope)
                        .Template(new TemplateName("embedded_2fa_email"));  // Set the template for the email content

                        tab.Add()  // Add the second tab
                        .Title("SMS")  // Set the title of the tab
                        .Icon("fas fa-mobile-alt")  // Set the icon for the SMS tab (mobile phone)
                        .Template(new TemplateName("embedded_2fa_sms"));  // Set the template for the SMS content
                    })
                    )
            </div>
        </div>
        <p class="mt-3 text-center" style="font-size:11px;">&copy; <script>document.write(new Date().getFullYear() + ' Medisat ERP | By Eurosat Group');</script></p>

    </div>

</div>

@using (Html.DevExtreme().NamedTemplate("embedded_2fa_email"))
{
    <!-- OTP Request Form (Click to Get Code) -->
    <div class="card-body p-4">

        <div class="text-center text-primary mb-3 text-decoration-underline">
            <a >Get code on Email</a>
        </div>

        <!-- Code Input Field -->
        <div class="form-group mb-2">
            <label class="mb-1" for="otp">Enter Code:</label>
            @(Html.DevExtreme().TextBox().ID("otp_email")
                .Value("")
                .Placeholder("Enter code.")
                .Width("100%")
             )
        </div>

        <!-- Verify Button -->
        <div class="d-grid gap-2 mt-4">
            @(Html.DevExtreme().Button()
                .Text("Verify Code")
                .Type(ButtonType.Default)
                .Icon("arrowright")
                .StylingMode(ButtonStylingMode.Outlined)
                .Width("100%")
                .Height(40)
                .OnClick("verifyOtp")
                )
        </div>
    </div>
}

@using (Html.DevExtreme().NamedTemplate("embedded_2fa_sms"))
{
    <!-- OTP Request Form (Click to Get Code) -->
    <div class="card-body p-4">

        <div class="text-center text-primary mb-3 text-decoration-underline">
            <a>Get code on SMS</a>
        </div>

        <!-- Code Input Field -->
        <div class="form-group mb-2">
            <label class="mb-1" for="otp">Enter Code:</label>
            @(Html.DevExtreme().TextBox().ID("otp_sms")
                .Value("")
                .Placeholder("Enter code.")
                .Width("100%")
                )
        </div>

        <!-- Verify Button -->
        <div class="d-grid gap-2 mt-4">
            @(Html.DevExtreme().Button()
                .Text("Verify Code")
                .Type(ButtonType.Default)
                .Icon("arrowright")
                .StylingMode(ButtonStylingMode.Outlined)
                .Width("100%")
                .Height(40)
                .OnClick("verifyOtp")
                )
        </div>
    </div>
}

<script>
    function verifyOtp() {
        return true;
    }
</script>
